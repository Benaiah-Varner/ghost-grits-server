(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{310:function(e,t,r){"use strict";r.r(t);var n=r(295),o=r(1),i=r(0),a=r(15),c=r(84),s=r(10),l=r(17);function b(e){if(e.length>7)return function(e){const t=e.substring(4,e.length-1).replace(/ /g,"").split(",");return{r:parseInt(t[0],10),g:parseInt(t[1],10),b:parseInt(t[2],10)}}(e);return function(e){return{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16)}}(function(e){const t=e.replace("#","");if(3===t.length)return t[0]+t[0]+t[1]+t[1]+t[2]+t[2];if(6!==t.length)throw new Error('Invalid color value provided: "'.concat(e,'"'));return t}(e))}function d({r:e,g:t,b:r,a:n}){return n?"rgba(".concat([e,t,r,n].join(","),")"):"rgb(".concat([e,t,r].join(","),")")}function u(e,t=1){const{r:r,g:n,b:o}=b(e);return d({r:r,g:n,b:o,a:t})}const p=(e,t,r)=>Math.round((t-e)*r)+e;function f(e,t){const r=t/100,{r:n,g:o,b:i}=b(e),a=r<0?0:255,c=Math.abs(r);return d({r:p(n,a,c),g:p(o,a,c),b:p(i,a,c)})}const g=f;function j(e,t){return f(e,-1*t)}function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){Object(l.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const x={N05:"#F4F5F7",N10:"#EBECF0",N15:"#DFE1E5",N20:"#C1C7D0",N30:"#A5ADBA",N40:"#97A0AF",N50:"#7A869A",N60:"#6C798F",N70:"#42526E",N80:"#253858",N90:"#172B4D",N100:"#091E42"},y=Array.from(new Array(19),(e,t)=>5*(t+1)),h=y.slice(0,16).reverse();function v(e){const t={};return y.forEach(r=>t["L"+r]=g(e,r)),t.base=e,h.forEach(r=>t["D"+r]=j(e,r)),y.forEach(r=>t["A"+r]=u(e,r/100)),t}const w=v("#2684FF"),D=v("#34c240");var S=m(m(m({R:v("#d64242"),G:D,B:w,Y:v("#fa9f47")},x),{},{page:"#FAFBFC",text:x.N90},{create:"#34c240",danger:"#d64242",info:"#0090e0",primary:"#2684FF",warning:"#fa9f47"}),{},{green:"#34c240",red:"#d64242",blue:"#2684FF",yellow:"#fa9f47"});const P=e=>`rgba(9, 30, 66, ${e})`,k=(P(.12),P(.12),P(.12),P(.08),P(.24),P(.08),'\n  -apple-system,\n  BlinkMacSystemFont,\n  "Segoe UI",\n  Roboto,\n  Helvetica,\n  Arial,\n  sans-serif,\n  "Apple Color Emoji",\n  "Segoe UI Emoji",\n  "Segoe UI Symbol"\n'),C=k.replace("BlinkMacSystemFont,","");S.page,S.text,S.primary;var F=r(6),A=r(8),N=r(9);N.a.span({color:S.N60}),N.a.h1({fontSize:28,fontWeight:300,margin:"24px 0"}),N.a.h1({fontSize:"2.4rem",fontWeight:900,marginBottom:"0.5em",marginTop:"1.0rem"}),N.a.kbd({backgroundColor:S.N05,border:"1px solid "+S.N20,borderRadius:3,boxShadow:"0 1px 1px rgba(0, 0, 0, 0.12), 0 2px 0 0 rgba(255, 255, 255, 0.7) inset",display:"inline-block",fontFamily:"Monaco, monospace",fontSize:"0.85em",fontWeight:"bold",lineHeight:"inherit",padding:"1px 5px",position:"relative",top:"-1px",verticalAlign:"middle",whiteSpace:"nowrap"});function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){Object(l.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const z=o.keyframes`0%, 80%, 100% { opacity: 0; } 40% { opacity: 1; }`,I={default:S.N20,dark:S.text,primary:S.primary,inverted:"white"},H=(N.a.div(({size:e})=>({alignSelf:"center",fontSize:e,lineHeight:1,textAlign:"center",verticalAlign:"middle",display:"inline-flex"})),N.a.span(({appearance:e,delay:t=0,isOffset:r})=>({animation:`${z} 1s infinite ${t}ms`,animationTimingFunction:"ease-in-out",backgroundColor:I[e],borderRadius:"1em",display:"inline-block",height:"1em",marginLeft:r?"1em":null,verticalAlign:"top",width:"1em"})),o.keyframes`to { transform: rotate(1turn); }`),L=({size:e})=>({borderRadius:"50%",borderStyle:"solid",borderWidth:e/8,boxSizing:"border-box",height:e,width:e});N.a.div(({size:e})=>({height:e,width:e,position:"relative"})),N.a.div(({color:e,size:t})=>E(E({},L({size:t})),{},{borderColor:e,opacity:.2,position:"relative"})),N.a.div(({color:e,size:t})=>E(E({},L({size:t})),{},{animation:H+" 1s linear infinite",borderColor:e+" transparent transparent",left:0,position:"absolute",top:0}));var B=r(27),$=r(71);const _={appearance:"none",background:"none",border:"1px solid transparent",borderRadius:6,boxSizing:"border-box",fontFamily:"inherit",fontSize:"1.0rem",margin:0,minWidth:1,padding:"8px 12px",transition:"box-shadow 100ms linear",verticalAlign:"middle",whiteSpace:"nowrap"};function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach((function(t){Object(l.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const U={default:{bg:"#fff",border:S.N20,focusRing:S.primary,text:S.text},primary:{bg:S.primary,border:S.primary,focusRing:null,text:"#fff"},create:{bg:S.create,border:S.create,focusRing:null,text:"#fff"},danger:{bg:S.danger,border:S.danger,focusRing:null,text:"#fff"},warning:{bg:S.warning,border:S.warning,focusRing:null,text:"#fff"}},K={default:{border:S.N20,text:S.N60},primary:{border:S.B.L50,text:S.primary},create:{border:S.G.L50,text:S.create},danger:{border:S.R.L50,text:S.danger},warning:{border:S.Y.L30,text:S.warning}},q={default:{text:S.N40,textHover:S.text},primary:{text:S.N40,textHover:S.primary},create:{text:null,textHover:null},warning:{text:S.N40,textHover:S.danger},danger:{text:S.danger,textHover:S.danger}},G={default:{text:S.text},primary:{text:S.primary},create:{text:null},warning:{text:S.danger},danger:{text:S.danger}};function J({appearance:e,isDisabled:t}){const{border:r,text:n}=K[e];return{border:"1px solid",borderColor:r,color:n,fontWeight:"normal",opacity:t?.5:null,":hover, :focus":{backgroundColor:u(r,.1),borderColor:j(r,10)},":active":{color:j(n,10),borderColor:j(r,20),backgroundColor:u(r,.2)}}}function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){Object(l.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Y={comfortable:"8px 12px",cozy:"2px 6px",cramped:"1px 2px"};function Q({appearance:e="default",isActive:t,isBlock:r,isHover:n,isFocus:o,isDisabled:i,isSelected:a,variant:c="bold",spacing:s="comfortable"}){let l;const b={appearance:e,isDisabled:i,isActive:t,isHover:n,isFocus:o,isSelected:a};return"subtle"===c?l=function({appearance:e}){const{text:t,textHover:r}=q[e];return{color:t,fontWeight:null,":hover, :focus":{color:r,textDecoration:"underline"}}}(b):"nuance"===c?l=function({appearance:e,isDisabled:t}){const{text:r}=G[e];return{color:r,fontWeight:"normal",":hover, :focus":J({appearance:e,isDisabled:t})}}(b):"bold"===c?l=function({appearance:e,isDisabled:t,isActive:r,isHover:n,isFocus:o,isSelected:i}){const{bg:a,border:c,focusRing:s,text:l}=U[e],b="default"===e?S.N10:j(a,12),d=n||o?{borderColor:c,background:a}:null,p=n?M(M({},d),{},{boxShadow:"0 1px 2px rgba(0, 0, 0, 0.12)"}):null,f=o&&!t?M(M({},d),{},{borderColor:s,boxShadow:"0 0 0 3px "+u(s||a,.2)}):null,g=r||i?{background:b,borderColor:c}:null;return M(M(M({backgroundColor:a,backgroundRepeat:"repeat-x",borderColor:c,color:l,fontWeight:"bold"},p),f),g)}(b):"ghost"===c&&(l=J(b)),V(V({},_),{},{cursor:i?"default":"pointer",display:r?"block":"inline-block",opacity:i?.66:null,outline:0,padding:Y[s],pointerEvents:i?"none":null,textAlign:"center",touchAction:"manipulation",userSelect:"none",width:r?"100%":null,":hover":{textDecoration:"none"}},l)}function X(e,t){const{isDisabled:r,isActive:n,isFocus:i,isHover:a,isSelected:c,focusOrigin:s}=e,l=Object(A.a)(e,["isDisabled","isActive","isFocus","isHover","isSelected","focusOrigin"]),b=Q(e);return l.to?Object(o.jsx)(B.b,Object(F.a)({ref:t,css:b},l)):l.href?Object(o.jsx)("a",Object(F.a)({css:b},l,{ref:t})):Object(o.jsx)("button",Object(F.a)({type:"button",disabled:r,css:b,ref:t},l))}const Z=Object(i.forwardRef)(X),ee=Object($.withPseudoState)(Z);N.a.div({position:"relative"}),N.a.div({left:"50%",position:"absolute",top:"50%",transform:"translate(-50%, -50%)"});const te=Object(i.forwardRef)((e,t)=>{let{children:r,icon:n,iconSize:i=16}=e,a=Object(A.a)(e,["children","icon","iconSize"]);return Object(o.jsx)(ee,Object(F.a)({ref:t},a),Object(o.jsx)("span",{css:{display:"flex",alignItems:"center"}},Object(o.jsx)(n,{size:i,css:r?{marginRight:"0.5em"}:null}),r))});var re=r(64),ne=r(297),oe=r(196);r(148),r(147),r(110),r(296);function ie({listKey:e,value:t,onAddUser:r,many:n,isDisabled:i}){const c="authenticated"+e,{data:l}=Object(a.useQuery)(a.gql`
    query User {
      ${c} {
        _label_
        id
      }
    }
  `);if(l&&l[c]){const e=l[c].id;if(null!==t&&(n?t.some(t=>t.id===e):t.id===e))return null;const a=`${n?"Add":"Set as"} ${l[c]._label_}`;return Object(o.jsx)(re.a,{placement:"top",content:a},e=>Object(o.jsx)(te,{css:{marginLeft:8},variant:"ghost",ref:e,onClick:()=>{r(l[c])},icon:s.l,"aria-label":a,isDisabled:i}))}return null}function ae({field:e,value:t}){const{many:r}=e.config,{fullPath:n}=e.getRefList();let i,a=!1,c=n;return r?(i="View List of Related Items",t.length||(a=!0),c=`${c}?!id_in="${t.slice(0,100).map(({id:e})=>e).join(",")}"`):(i="View Item Details",t?c=`${c}/${t.id}`:a=!0),Object(o.jsx)(re.a,{placement:"top",content:i},e=>Object(o.jsx)(te,{ref:e,icon:s.j,"aria-label":i,variant:"ghost",css:{marginLeft:8},target:"_blank",to:c,isDisabled:a}))}function ce({field:e,item:t,onCreate:r,isDisabled:a}){const{list:c,openCreateItemModal:l}=Object(oe.e)();let b,d=e.getRefList(),u="Create and add "+d.singular;return t&&t.id&&(b=d.fields.filter(t=>"Relationship"===t.type&&t.config.ref===c.key&&t.config.refFieldPath===e.path).reduce((e,r)=>{const o={_label_:t._label_||"<link to parent>",id:t.id};return Object(n.a)(Object(n.a)({},e),{},{[r.path]:r.config.many?[o]:o})},{})),Object(o.jsx)(i.Fragment,null,Object(o.jsx)(re.a,{placement:"top",content:u},e=>Object(o.jsx)(te,{ref:e,onClick:l,icon:s.m,"aria-label":u,variant:"ghost",css:{marginLeft:8},isDisabled:a})),Object(o.jsx)(oe.a,{prefillData:b,onCreate:({data:e})=>{r(e[d.gqlNames.createMutationName])}}))}t.default=({autoFocus:e,field:t,value:r=[],renderContext:n,errors:i,onChange:a,item:s,list:l,isDisabled:b})=>{const{many:d,ref:u}=t.config,{authStrategy:p}=Object(oe.d)(),f="ks-input-"+t.path,g=t.getRefList();return Object(o.jsx)(c.a,null,Object(o.jsx)(c.d,{htmlFor:f,field:t,errors:i}),Object(o.jsx)(c.b,{text:t.adminDoc}),Object(o.jsx)(c.c,null,Object(o.jsx)("div",{css:{flex:1}},Object(o.jsx)(ne.a,{autoFocus:e,isMulti:d,field:t,value:r,errors:i,renderContext:n,htmlID:f,onChange:e=>{const{many:r}=t.config;a(r?e?e.map(e=>e.value):[]:e?e.value:null)},isDisabled:b})),Object(o.jsx)(oe.b,{list:g},Object(o.jsx)(ce,{onCreate:e=>{a(d?r.concat(e):e)},field:t,item:s,list:l,isDisabled:b})),p&&u===p.listKey&&Object(o.jsx)(ie,{many:d,onAddUser:e=>{a(d?r.concat(e):e)},value:r,listKey:p.listKey,isDisabled:b}),Object(o.jsx)(ae,{field:t,value:r})))}}}]);